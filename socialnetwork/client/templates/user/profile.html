{% extends 'index.html' %}
{% load bootstrap5 %}
{% load static %}

{% block title %}
    {% if authenticated %}
        My Profile
    {% else %}
        Social Network
    {% endif %}
{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'styles/profile.css' %}">
{% endblock %}

{% block content %}
    <div class="content">
        <form method="POST" enctype="multipart/form-data" action="{% url 'client:profile' %}">
            {% csrf_token %}
            <div class="row">
                <div class="col-4">
                    <div class="mb-3 text-center">
                        <img class="avatar" src="{{profile.profile_pic}}" id="profile-pic"/>
                        <input type="file" name="profile_pic" accept="image/*" class="form-control profile-upload" title="" id="id_profile_pic">
                    </div>
                </div>
                <div class="col-8">
                    <textarea name="bio" cols="25" rows="8" class="form-control" placeholder="Bio" title="" id="id_bio">{{profile.bio}}</textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <div class="mb-3">
                        <label class="form-label" for="id_first_name">First Name</label>
                        <input type="text" name="first_name" value="{{profile.user.first_name}}" class="form-control" placeholder="First Name" title="" id="id_first_name">
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-3">
                        <label class="form-label" for="id_last_name">Last Name</label>
                        <input type="text" name="last_name" value="{{profile.user.last_name}}" class="form-control" placeholder="Last Name" title="" id="id_last_name">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <div class="mb-3">
                        <label class="form-label" for="id_email">Email</label>
                        <input type="email" name="email" value="{{profile.user.email}}" class="form-control" placeholder="Email" title="" id="id_email">
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-3">
                        <label class="form-label" for="id_phone">Phone</label>
                        <input type="text" name="phone" value="{{profile.phone}}" class="form-control" placeholder="Phone" title="" id="id_phone">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="text-end">
                    <button class="btn btn-primary">Save Profile</button>
                </div>
            </div>
        </form>
        <script src="{% static 'scripts/profile.js' %}" type="module"></script>
    </div>
{% endblock %}